<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Muro - Calculadora</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/style.css">
<style>
/* Mantener el mismo diseño */
.header {background: #1f2937;color: white;padding: 1rem;text-align: center;position: sticky;top: 0; z-index: 1000;box-shadow: 0 2px 6px rgba(0,0,0,0.1);}
.nav-menu {display: flex;flex-wrap: wrap;gap: 0.5rem;justify-content: center;margin-top: 0.5rem;}
.nav-link {background: #f0f0f0;color: #1f2937;padding: 0.5rem 1rem;border-radius: 10px;text-decoration: none;font-weight: 500;font-size: 0.95rem;box-shadow: 2px 2px 5px rgba(0,0,0,0.08), -2px -2px 5px rgba(255,255,255,0.7);transition: all 0.15s ease;}
.nav-link:hover {transform: translateY(-1px);box-shadow: 1px 1px 3px rgba(0,0,0,0.1), -1px -1px 3px rgba(255,255,255,0.8);background: #e8e8e8;}
.container {max-width:900px;margin:2rem auto;padding:0 1rem;}
.card {background:#fff;padding:1rem;margin-bottom:1rem;border-radius:14px;box-shadow:0 4px 8px rgba(0,0,0,0.05);}
.card label {font-weight:500; display:block;margin-top:0.5rem;}
.card input, .card select {width:100%;padding:0.5rem;margin-top:0.2rem;border-radius:8px;border:1px solid #ccc;}
.btn-primary {display:block;margin:1rem auto;padding:0.7rem 2rem;background-color:#1f2937;color:white;border:none;border-radius:10px;font-size:1rem;cursor:pointer;transition:0.2s;}
.btn-primary:hover{background-color:#374151;}
.result {background:#f9f9f9;padding:1rem;border-radius:12px;margin-top:1rem;box-shadow:0 2px 6px rgba(0,0,0,0.05);}
footer{text-align:center;padding:1rem;margin-top:2rem;color:#6b7280;font-size:0.9rem;}
.flex-row{display:flex;gap:1rem;flex-wrap:wrap;}
.flex-col{flex:1;min-width:280px;}
</style>
</head>
<body>
<header class="header">
<h1>Calculadora de Muros</h1>
<nav class="nav-menu">
<a href="index.html" class="nav-link">Inicio</a>
<a href="piso.html" class="nav-link">Piso</a>
<a href="cubierta.html" class="nav-link">Cubierta</a>
<a href="cimentacion.html" class="nav-link">Cimentación</a>
<a href="estructura.html" class="nav-link">Estructura</a>
<a href="falso-techo.html" class="nav-link">Falso Techo</a>
<a href="pintura.html" class="nav-link">Pintura</a>
</nav>
</header>

<main class="container">

<div class="flex-row">
  <!-- TARJETA 1: Tipo de muro y colocación -->
  <div class="card flex-col">
    <label>Tipo de muro</label>
    <select id="tipoMuro">
      <option value="">-- Selecciona --</option>
      <option value="ladrillo">Ladrillo</option>
      <option value="bloque">Bloque</option>
      <option value="hormigon">Hormigón</option>
      <option value="piedra">Piedra</option>
      <option value="adobe">Adobe</option>
      <option value="tabique">Tabique</option>
    </select>

    <label id="labelColocacion" style="display:none;">Tipo de colocación (solo ladrillo)</label>
    <select id="tipoColocacion" style="display:none;">
      <option value="">-- Selecciona --</option>
      <option value="citado">Citara</option>
      <option value="citaron">Citaron</option>
      <option value="alicatado">Alicatado</option>
    </select>

    <label>Repello y fino</label>
    <select id="repello">
      <option value="con">Con repello y fino</option>
      <option value="sin">Sin repello y fino</option>
    </select>

    <label>Largo (m)</label>
    <input type="number" id="largo" placeholder="Largo del muro">
    <label>Alto (m)</label>
    <input type="number" id="alto" placeholder="Alto del muro">
    <label>Área (m²)</label>
    <input type="number" id="area" readonly>
  </div>

  <!-- TARJETA 2: Precios de materiales -->
  <div class="card flex-col">
    <label>Ladrillo (CUP)</label>
    <input type="number" id="precioLadrillo" placeholder="Precio por unidad">
    <label>Bloque (CUP)</label>
    <input type="number" id="precioBloque" placeholder="Precio por unidad">
    <label>Cemento (CUP)</label>
    <input type="number" id="precioCemento" placeholder="Precio por saco">
    <label>Arena (CUP)</label>
    <input type="number" id="precioArena" placeholder="Precio por m³">
    <label>Agua (CUP)</label>
    <input type="number" id="precioAgua" placeholder="Precio por litro">
  </div>
</div>

<button class="btn-primary" onclick="calcularMuro()">Calcular</button>
<button class="btn-primary" style="background:#ef4444;" onclick="borrarMuro()">Borrar</button>

<!-- TARJETA 3: Resultado -->
<div id="resultado" class="result" style="display:none;"></div>

<footer>Arq. Emanuel Silva Riambaut</footer>

<script>
document.getElementById('tipoMuro').addEventListener('change', function(){
    if(this.value==='ladrillo'){
        document.getElementById('tipoColocacion').style.display='block';
        document.getElementById('labelColocacion').style.display='block';
    } else {
        document.getElementById('tipoColocacion').style.display='none';
        document.getElementById('labelColocacion').style.display='none';
    }
});

// Calcular área
['largo','alto'].forEach(id=>{
    document.getElementById(id).addEventListener('input', function(){
        const largo=parseFloat(document.getElementById('largo').value)||0;
        const alto=parseFloat(document.getElementById('alto').value)||0;
        document.getElementById('area').value=(largo*alto).toFixed(2);
    });
});

function calcularMuro(){
    const tipo=document.getElementById('tipoMuro').value;
    const colocacion=document.getElementById('tipoColocacion').value;
    const repello=document.getElementById('repello').value;
    const area=parseFloat(document.getElementById('area').value)||0;
    if(!tipo || area<=0){alert("Complete todos los datos"); return;}

    // Precios
    const precios={
        ladrillo: parseFloat(document.getElementById('precioLadrillo').value)||0,
        bloque: parseFloat(document.getElementById('precioBloque').value)||0,
        cemento: parseFloat(document.getElementById('precioCemento').value)||0,
        arena: parseFloat(document.getElementById('precioArena').value)||0,
        agua: parseFloat(document.getElementById('precioAgua').value)||0
    };

    // Calcular cantidades (aproximadas)
    let ladrillos=0, bloques=0, cemento=0, arena=0, agua=0;
    if(tipo==='ladrillo'){
        ladrillos=area*50; // aprox 50 ladrillos/m²
        cemento=repello==='con'?Math.ceil(area*0.02):Math.ceil(area*0.015); // sacos/m²
        arena=repello==='con'?Math.ceil(area*0.03):Math.ceil(area*0.02); // m³
        agua=repello==='con'?Math.ceil(area*0.01):Math.ceil(area*0.005); // litros
    } else if(tipo==='bloque'){
        bloques=area*10; // aprox 10 bloques/m²
        cemento=Math.ceil(area*0.02);
        arena=Math.ceil(area*0.025);
        agua=Math.ceil(area*0.008);
    } else if(tipo==='hormigon'){
        cemento=Math.ceil(area*0.03);
        arena=Math.ceil(area*0.04);
        agua=Math.ceil(area*0.01);
    } else if(tipo==='piedra'){
        arena=Math.ceil(area*0.03);
        cemento=Math.ceil(area*0.025);
        agua=Math.ceil(area*0.01);
    } else if(tipo==='adobe'){
        ladrillos=area*20;
        cemento=Math.ceil(area*0.01);
        arena=Math.ceil(area*0.02);
        agua=Math.ceil(area*0.005);
    } else if(tipo==='tabique'){
        ladrillos=area*30;
        cemento=Math.ceil(area*0.015);
        arena=Math.ceil(area*0.02);
        agua=Math.ceil(area*0.005);
    }

    // Costos
    const totalCUP = ladrillos*precios.ladrillo + bloques*precios.bloque + cemento*precios.cemento + arena*precios.arena + agua*precios.agua;

    // Resultado
    let resultadoHtml=`<h3>Materiales necesarios</h3>`;
    if(ladrillos>0) resultadoHtml+=`<p>Ladrillos: ${ladrillos} unidades (CUP ${(ladrillos*precios.ladrillo).toFixed(2)})</p>`;
    if(bloques>0) resultadoHtml+=`<p>Bloques: ${bloques} unidades (CUP ${(bloques*precios.bloque).toFixed(2)})</p>`;
    if(cemento>0) resultadoHtml+=`<p>Cemento: ${cemento} sacos (CUP ${(cemento*precios.cemento).toFixed(2)})</p>`;
    if(arena>0) resultadoHtml+=`<p>Arena: ${arena} m³ (CUP ${(arena*precios.arena).toFixed(2)})</p>`;
    if(agua>0) resultadoHtml+=`<p>Agua: ${agua} litros (CUP ${(agua*precios.agua).toFixed(2)})</p>`;
    resultadoHtml+=`<h4>Total: ${totalCUP.toFixed(2)} CUP</h4>`;
    resultadoHtml+=`<h4>Características técnicas</h4>`;
    resultadoHtml+=`<p>Área: ${area.toFixed(2)} m²</p>`;
    if(tipo==='ladrillo') resultadoHtml+=`<p>Grosor junta mortero: 1 cm</p>`;
    if(repello==='con') resultadoHtml+=`<p>Incluye repello y fino</p>`;
    document.getElementById('resultado').style.display='block';
    document.getElementById('resultado').innerHTML=resultadoHtml;
}

function borrarMuro(){
    ['tipoMuro','tipoColocacion','repello','largo','alto','area',
    'precioLadrillo','precioBloque','precioCemento','precioArena','precioAgua'].forEach(id=>{
        const el=document.getElementById(id);
        if(el) el.value='';
    });
    document.getElementById('tipoColocacion').style.display='none';
    document.getElementById('labelColocacion').style.display='none';
    document.getElementById('resultado').style.display='none';
}
</script>
</body>
</html>
